{% extends "base.html" %}

{% block title %}Gallery - Digital Club{% endblock %}

{% block content %}
<section style="padding: 5rem 0;">
    <div class="container">
        <h1 style="text-align: center; font-size: 3rem; margin-bottom: 3rem; color: var(--primary-color);" data-aos="fade-up">
            Gallery
        </h1>
        
        {% if gallery_items %}
        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(260px, 1fr)); gap: 1.5rem;">
            {% for item in gallery_items %}
            <div class="card" data-aos="fade-up" data-aos-delay="{{ loop.index * 100 }}">
                {% if item.type == 'image' %}
                <img src="{{ item.url }}" 
                     alt="{{ item.caption or 'Gallery Image' }}" 
                     loading="lazy" decoding="async"
                     style="width: 100%; height: 250px; object-fit: cover; border-radius: 10px; margin-bottom: 1rem;">
                {% elif item.type == 'video' %}
                <div style="position: relative; width: 100%; height: 250px; margin-bottom: 1rem;">
                    {% if 'youtube.com' in item.url or 'youtu.be' in item.url %}
                    <iframe src="{{ item.url.replace('watch?v=', 'embed/') }}" 
                            style="width: 100%; height: 100%; border-radius: 10px;" 
                            frameborder="0" 
                            allowfullscreen>
                    </iframe>
                    {% else %}
                    <video controls style="width: 100%; height: 100%; border-radius: 10px;">
                        <source src="{{ item.url }}" type="video/mp4">
                        Your browser does not support the video tag.
                    </video>
                    {% endif %}
                </div>
                {% endif %}
                
                {% if item.caption %}
                <p style="color: var(--text-secondary); line-height: 1.6; margin-bottom: 1rem;">
                    {{ item.caption }}
                </p>
                {% endif %}
                
                <div style="display: flex; justify-content: space-between; align-items: center;">
                    <span style="color: var(--text-muted); font-size: 0.9rem;">
                        <i class="fas fa-calendar"></i> {{ item.uploaded_at.strftime('%B %d, %Y') }}
                    </span>
                    <div style="display: flex; gap: 0.5rem;">
                        <button class="btn-secondary" style="padding: 0.5rem;">
                            <i class="fas fa-heart"></i>
                        </button>
                        <button class="btn-secondary" style="padding: 0.5rem;">
                            <i class="fas fa-share"></i>
                        </button>
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>
        {% else %}
        <div style="text-align: center; padding: 3rem;">
            <i class="fas fa-images" style="font-size: 4rem; color: var(--text-muted); margin-bottom: 1rem;"></i>
            <h3 style="color: var(--text-secondary); margin-bottom: 1rem;">Gallery Coming Soon</h3>
            <p style="color: var(--text-muted);">We're working on adding amazing photos and videos from our events.</p>
        </div>
        {% endif %}
    </div>
</section>
{% endblock %}
