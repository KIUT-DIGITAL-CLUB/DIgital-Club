{% extends "admin/admin_base.html" %}

{% block admin_title %}Trophies{% endblock %}
{% block page_title %}Trophy Management{% endblock %}
{% block breadcrumb %}<span class="breadcrumb-separator">/</span> <span>Trophies</span>{% endblock %}

{% block admin_content %}
<div class="d-flex justify-content-between align-items-center mb-4">
    <div>
        <h2 class="mb-1">Trophy Management</h2>
        <p class="mb-0">Manage achievement trophies and point requirements</p>
    </div>
    <div>
        <a href="{{ url_for('admin.add_trophy') }}" class="admin-btn admin-btn-primary">
            <i class="fas fa-plus"></i> Add Trophy
        </a>
    </div>
</div>

{% if trophies %}
<div class="row">
    {% for trophy in trophies %}
    <div class="col-md-4 mb-4">
        <div class="admin-card">
            <div class="admin-card-body text-center">
                <div style="font-size: 4rem;">
                    <i class="{{ trophy.icon }}"></i>
                </div>
                <h5 class="mt-3">{{ trophy.name }}</h5>
                <p >{{ trophy.description }}</p>
                <div class="mb-3">
                    <span class="admin-badge admin-badge-success" style="font-size: 1.2rem;">
                        {{ trophy.points_required }} points
                    </span>
                </div>
                <div class="mb-3">
                    <small >Display Order: {{ trophy.display_order }}</small><br>
                    {% if trophy.is_active %}
                    <span class="admin-badge admin-badge-success">Active</span>
                    {% else %}
                    <span class="admin-badge admin-badge-secondary">Inactive</span>
                    {% endif %}
                </div>
                <div class="btn-group w-100">
                    <a href="{{ url_for('admin.edit_trophy', trophy_id=trophy.id) }}" 
                       class="admin-btn admin-btn-sm admin-btn-outline">
                        <i class="fas fa-edit"></i> Edit
                    </a>
                    <a href="{{ url_for('admin.delete_trophy', trophy_id=trophy.id) }}" 
                       class="admin-btn admin-btn-sm admin-btn-danger"
                       onclick="return confirm('Delete this trophy? Members who earned it will lose it.')">
                        <i class="fas fa-trash"></i> Delete
                    </a>
                </div>
            </div>
        </div>
    </div>
    {% endfor %}
</div>
{% else %}
<div class="admin-empty-state">
    <i class="fas fa-trophy"></i>
    <h5>No trophies defined</h5>
    <p>Create achievement trophies to reward your members!</p>
    <a href="{{ url_for('admin.add_trophy') }}" class="admin-btn admin-btn-primary">
        <i class="fas fa-plus"></i> Add First Trophy
    </a>
</div>
{% endif %}
{% endblock %}

