{% extends "admin/admin_base.html" %}

{% block admin_title %}Teams{% endblock %}
{% block page_title %}Teams{% endblock %}
{% block breadcrumb %}<span class="breadcrumb-separator">/</span> <span>Teams</span>{% endblock %}

{% block admin_content %}
<div class="admin-card mb-3">
    <div class="admin-card-body d-flex justify-content-between align-items-center flex-wrap gap-2">
        <div>
            <h5 class="mb-1">Teams Overview</h5>
            <p class="mb-0">Assign members and set team ratings.</p>
        </div>
        <form method="POST" action="{{ url_for('admin.teams_seed') }}">
            <button type="submit" class="admin-btn admin-btn-outline">
                <i class="fas fa-plus"></i> Create Default Teams
            </button>
        </form>
    </div>
</div>

<div class="admin-table-responsive">
    <table class="table admin-table">
        <thead>
            <tr>
                <th>Team</th>
                <th>Rating</th>
                <th>Members</th>
                <th></th>
            </tr>
        </thead>
        <tbody>
            {% for team in teams %}
            <tr>
                <td>{{ team.name }}</td>
                <td>
                    {% for i in range(1, 6) %}
                        <i class="fas fa-star {% if i <= team.rating %}text-warning{% else %}text-muted{% endif %}"></i>
                    {% endfor %}
                </td>
                <td>{{ team.members.count() }}</td>
                <td class="text-end">
                    <a href="{{ url_for('admin.teams_view', team_id=team.id) }}" class="admin-btn admin-btn-outline admin-btn-sm">Manage</a>
                </td>
            </tr>
            {% else %}
            <tr><td colspan="4" class="text-center">No teams yet.</td></tr>
            {% endfor %}
        </tbody>
    </table>
</div>
{% endblock %}
